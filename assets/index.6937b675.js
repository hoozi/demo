import{n as g,r as ue,ax as pe,a as Q,W as fe,v as R,e9 as he,f as w,a0 as ve,R as me,S as U,ci as be,U as $,an as xe,ea as ye,dB as we,b as re,be as He,L as oe,o as I,h as q,i as G,aG as S,q as j,bs as ie,J as _e,Q as W,dz as Ce,K as le,k as C,cW as ke,eb as Pe,H as Fe,cO as $e,aJ as b,aa as Se,ar as Y,aC as ee,j as te,aE as Be,aF as Re,z as N,aH as Te,aI as ze,F as Oe,B as Ae,t as Ie,aD as je,l as ae,N as se}from"./index.664a474d.js";import{B as Ee}from"./index.1c4a8ceb.js";import{A as Ne}from"./index.0436ce61.js";import{u as We}from"./useWindowSizeFn.bea509a5.js";import{a as De}from"./useContentViewHeight.1b426da7.js";import{A as Le}from"./ArrowLeftOutlined.12cccf8f.js";import{T as Me}from"./transButton.f70a9e9c.js";var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},Je=Ve;function ne(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?Object(arguments[a]):{},f=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(s).filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable}))),f.forEach(function(n){Ue(e,n,s[n])})}return e}function Ue(e,a,s){return a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}var X=function(a,s){var f=ne({},a,s.attrs);return g(ue,ne({},f,{icon:Je}),null)};X.displayName="ArrowRightOutlined";X.inheritAttrs=!1;var qe=X,Ge=function(){return{backIcon:$.any,prefixCls:String,title:$.any,subTitle:$.any,breadcrumb:$.object,tags:$.any,footer:$.any,extra:$.any,avatar:$.object,ghost:{type:Boolean,default:void 0},onBack:Function}},Qe=Q({name:"APageHeader",props:Ge(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(a,s){var f=s.emit,n=s.slots,x=fe("page-header",a),d=x.prefixCls,h=x.direction,y=x.pageHeader,k=R(!1),z=he(),H=function(t){var o=t.width;z.value||(k.value=o<768)},P=w(function(){var r,t,o;return(o=(r=a.ghost)!==null&&r!==void 0?r:(t=y.value)===null||t===void 0?void 0:t.ghost)!==null&&o!==void 0?o:!0}),F=function(){var t,o,i;return(i=(t=a.backIcon)!==null&&t!==void 0?t:(o=n.backIcon)===null||o===void 0?void 0:o.call(n))!==null&&i!==void 0?i:h.value==="rtl"?g(qe,null,null):g(Le,null,null)},l=function(t){return!t||!a.onBack?null:g(we,{componentName:"PageHeader",children:function(i){var c=i.back;return g("div",{class:"".concat(d.value,"-back")},[g(Me,{onClick:function(B){f("back",B)},class:"".concat(d.value,"-back-button"),"aria-label":c},{default:function(){return[t]}})])}},null)},_=function(){var t;return a.breadcrumb?g(Ee,a.breadcrumb,null):(t=n.breadcrumb)===null||t===void 0?void 0:t.call(n)},m=function(){var t,o,i,c,p,B,E,D,L,M=a.avatar,O=(t=a.title)!==null&&t!==void 0?t:(o=n.title)===null||o===void 0?void 0:o.call(n),A=(i=a.subTitle)!==null&&i!==void 0?i:(c=n.subTitle)===null||c===void 0?void 0:c.call(n),V=(p=a.tags)!==null&&p!==void 0?p:(B=n.tags)===null||B===void 0?void 0:B.call(n),J=(E=a.extra)!==null&&E!==void 0?E:(D=n.extra)===null||D===void 0?void 0:D.call(n),T="".concat(d.value,"-heading"),Z=O||A||V||J;if(!Z)return null;var ce=F(),K=l(ce),ge=K||M||Z;return g("div",{class:T},[ge&&g("div",{class:"".concat(T,"-left")},[K,M?g(Ne,M,null):(L=n.avatar)===null||L===void 0?void 0:L.call(n),O&&g("span",{class:"".concat(T,"-title"),title:typeof O=="string"?O:void 0},[O]),A&&g("span",{class:"".concat(T,"-sub-title"),title:typeof A=="string"?A:void 0},[A]),V&&g("span",{class:"".concat(T,"-tags")},[V])]),J&&g("span",{class:"".concat(T,"-extra")},[J])])},u=function(){var t,o,i=(t=a.footer)!==null&&t!==void 0?t:xe((o=n.footer)===null||o===void 0?void 0:o.call(n));return ye(i)?null:g("div",{class:"".concat(d.value,"-footer")},[i])},v=function(t){return g("div",{class:"".concat(d.value,"-content")},[t])};return function(){var r,t,o,i=((t=a.breadcrumb)===null||t===void 0?void 0:t.routes)||n.breadcrumb,c=a.footer||n.footer,p=ve((o=n.default)===null||o===void 0?void 0:o.call(n)),B=me(d.value,(r={"has-breadcrumb":i,"has-footer":c},U(r,"".concat(d.value,"-ghost"),P.value),U(r,"".concat(d.value,"-rtl"),h.value==="rtl"),U(r,"".concat(d.value,"-compact"),k.value),r));return g(be,{onResize:H},{default:function(){return[g("div",{class:B},[_(),m(),p.length?v(p):null,u()])]}})}}}),Xe=pe(Qe);const Ze=Q({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=re("page-footer"),{getCalcContentWidth:a}=He();return{prefixCls:e,getCalcContentWidth:a}}});function Ke(e,a,s,f,n,x){return I(),q("div",{class:j(e.prefixCls),style:ie({width:e.getCalcContentWidth})},[G("div",{class:j(`${e.prefixCls}__left`)},[S(e.$slots,"left",{},void 0,!0)],2),S(e.$slots,"default",{},void 0,!0),G("div",{class:j(`${e.prefixCls}__right`)},[S(e.$slots,"right",{},void 0,!0)],2)],6)}var de=oe(Ze,[["render",Ke],["__scopeId","data-v-2c113217"]]);function Ye(e){let a;_e(()=>{e(),W(()=>{a=!0})}),Ce(()=>{a&&e()})}function et(e,a,s,f,n=0,x=R(0)){const d=R(null),{footerHeightRef:h}=De();let y={useLayoutFooter:!0};const k=l=>{y=l};function z(){W(()=>{F()})}function H(l,_="all"){function m(r){return Number(r.replace(/[^\d]/g,""))}let u=0;const v="0px";if(l){const r=getComputedStyle(l),t=m(r?.marginTop??v),o=m(r?.marginBottom??v),i=m(r?.paddingTop??v),c=m(r?.paddingBottom??v);_==="all"?(u+=t,u+=o,u+=i,u+=c):_==="top"?(u+=t,u+=i):(u+=o,u+=c)}return u}function P(l){return l==null?null:l instanceof HTMLDivElement?l:l.$el}async function F(){if(!e.value)return;await W();const l=P(C(a));if(!l)return;const{bottomIncludeBody:_}=ke(l);let m=0;s.forEach(i=>{m+=P(C(i))?.offsetHeight??0});let u=H(l)??0;f.forEach(i=>{u+=H(P(C(i)))});let v=0;function r(i,c){if(i&&c){const p=i.parentElement;p&&(Fe(c)?p.classList.contains(c)?v+=H(p,"bottom"):(v+=H(p,"bottom"),r(p,c)):$e(c)&&c>0&&(v+=H(p,"bottom"),r(p,--c)))}}Pe(n)?r(l,C(n)):r(l,n);let t=_-C(h)-C(x)-m-u-v;const o=()=>{y.elements?.forEach(i=>{t+=P(C(i))?.offsetHeight??0})};y.useLayoutFooter&&C(h)>0,o(),d.value=t}return Ye(()=>{W(()=>{F()})}),We(()=>{F()},50,{immediate:!0}),le(()=>[h.value],()=>{F()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:k,contentHeight:d}}const tt=Q({name:"PageWrapper",components:{PageFooter:de,PageHeader:Xe},inheritAttrs:!1,props:{title:b.string,dense:b.bool,ghost:b.bool,content:b.string,contentStyle:{type:Object},contentBackground:b.bool,contentFullHeight:b.bool,contentClass:b.string,fixedHeight:b.bool,upwardSpace:b.oneOfType([b.number,b.string]).def(0)},setup(e,{slots:a,attrs:s}){const f=R(null),n=R(null),x=R(null),d=R(null),{prefixCls:h}=re("page-wrapper");Se(rt,w(()=>e.fixedHeight));const y=w(()=>e.contentFullHeight),k=w(()=>e.upwardSpace),{redoHeight:z,setCompensation:H,contentHeight:P}=et(y,f,[n,d],[x],k);H({useLayoutFooter:!0,elements:[d]});const F=w(()=>[h,{[`${h}--dense`]:e.dense},s.class??{}]),l=w(()=>e.content||a?.headerContent||e.title||m.value.length),_=w(()=>a?.leftFooter||a?.rightFooter),m=w(()=>Object.keys(Y(a,"default","leftFooter","rightFooter","headerContent"))),u=w(()=>{const{contentFullHeight:r,contentStyle:t,fixedHeight:o}=e;if(!r)return{...t};const i=`${C(P)}px`;return{...t,minHeight:i,...o?{height:i}:{}}}),v=w(()=>{const{contentBackground:r,contentClass:t}=e;return[`${h}-content`,t,{[`${h}-content-bg`]:r}]});return le(()=>[_.value],()=>{z()},{flush:"post",immediate:!0}),{getContentStyle:u,wrapperRef:f,headerRef:n,contentRef:x,footerRef:d,getClass:F,getHeaderSlots:m,prefixCls:h,getShowHeader:l,getShowFooter:_,omit:Y,getContentClass:v}}});function at(e,a,s,f,n,x){const d=ee("PageHeader"),h=ee("PageFooter");return I(),q("div",{class:j(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(I(),te(d,je({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),Be({default:N(()=>[e.content?(I(),q(Oe,{key:0},[Ae(Ie(e.content),1)],64)):S(e.$slots,"headerContent",{key:1})]),_:2},[Re(e.getHeaderSlots,y=>({name:y,fn:N(k=>[S(e.$slots,y,Te(ze(k||{})))])}))]),1040,["ghost","title"])):ae("",!0),G("div",{class:j(["overflow-hidden",e.getContentClass]),style:ie(e.getContentStyle),ref:"contentRef"},[S(e.$slots,"default")],6),e.getShowFooter?(I(),te(h,{key:1,ref:"footerRef"},{left:N(()=>[S(e.$slots,"leftFooter")]),right:N(()=>[S(e.$slots,"rightFooter")]),_:3},512)):ae("",!0)],2)}var nt=oe(tt,[["render",at]]);se(de);const ut=se(nt),rt="PageWrapperFixedHeight";export{rt as P,ut as a,Ye as o};
