import{a as B,v as x,b as W,dL as k,f as u,k as e,n as l,aD as z,c$ as A,f3 as F,dP as L,aB as b,bi as R,az as V,d1 as q,N as G}from"./index.664a474d.js";import{D as O}from"./index.657247e1.js";import{g as H}from"./get.967689fd.js";function J(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!L(n)}const K={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:n=>["small","default","middle",void 0].includes(n),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var Q=B({name:"Description",props:K,emits:["register"],setup(n,{slots:d,emit:p}){const c=x(null),{prefixCls:C}=W("description"),a=k(),m=u(()=>({...n,...e(c)})),f=u(()=>({...e(m),title:void 0})),j=u(()=>!!e(m).title),w=u(()=>({canExpand:!1,...e(f).collapseOptions})),S=u(()=>({...e(a),...e(f)}));function _(t){c.value={...e(c),...t}}function E({label:t,labelMinWidth:i,labelStyle:s}){if(!s&&!i)return t;const r={...s,minWidth:`${i}px `};return l("div",{style:r},[t])}function I(){const{schema:t,data:i}=e(f);return e(t).map(s=>{const{render:r,field:y,span:N,show:h,contentMinWidth:P}=s;if(h&&b(h)&&!h(i))return null;const v=()=>{const o=e(f)?.data;if(!o)return null;const D=H(o,y);return D&&!R(o).hasOwnProperty(y)?b(r)?r("",o):"":b(r)?r(D,o):D??""},$=P;return l(O.Item,{label:E(s),key:y,span:N},{default:()=>{if(!P)return v();const o={minWidth:`${$}px`};return l("div",{style:o},[v()])}})}).filter(s=>!!s)}const g=()=>{let t;return l(O,z({class:`${C}`},e(S)),J(t=I())?t:{default:()=>[t]})},M=()=>{const t=n.useCollapse?g():l("div",null,[g()]);if(!n.useCollapse)return t;const{canExpand:i,helpMessage:s}=e(w),{title:r}=e(m);return l(F,{title:r,canExpan:i,helpMessage:s},{default:()=>t,action:()=>A(d,"action")})};return p("register",{setDescProps:_}),()=>e(j)?M():g()}});function Z(n){if(!V())throw new Error("useDescription() can only be used inside setup() or functional components!");const d=x(null),p=x(!1);function c(a){e(p)&&q()||(d.value=a,n&&a.setDescProps(n),p.value=!0)}return[c,{setDescProps:a=>{e(d)?.setDescProps(a)}}]}const ee=G(Q);export{ee as D,Z as u};
