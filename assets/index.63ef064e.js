import{a1 as Je,a2 as Q,_ as M,a3 as Me,a4 as ae,a5 as et,a6 as tt,S as H,a7 as at,a8 as rt,a9 as nt,aa as Ee,X as ze,f as F,ab as it,ac as ot,R as se,n as _,F as me,d as lt,T as Y,a as ce,W as ke,v as J,K as ie,ad as ft,ae as ut,af as st,ag as mt,ah as ct,ai as dt,aj as pt,ak as Re,Y as Le,al as ht,G as ue,am as vt,Z as bt,an as gt,ao as oe,U as ee,ap as xe,Q as Ne,k as ne,w as xt,aq as wt,ar as yt,as as Te,at as kt,O as Ft,au as Ct,$ as he}from"./index.664a474d.js";import{C as _e,R as It}from"./index.803c90ab.js";import{S as Pt}from"./index.c92ded65.js";import{b as Be}from"./_baseIteratee.423afaf7.js";import{t as Vt}from"./toFinite.1248a2a6.js";import{u as $t}from"./useSize.1f5d6df9.js";function jt(t){var e=Vt(t),a=e%1;return e===e?a?e-a:e:0}function te(t){return t==null?[]:Array.isArray(t)?t:[t]}function We(t,e){for(var a=t,r=0;r<e.length;r+=1){if(a==null)return;a=a[e[r]]}return a}function Ze(t,e,a,r){if(!e.length)return a;var n=Je(e),i=n[0],l=n.slice(1),s;return!t&&typeof i=="number"?s=[]:Array.isArray(t)?s=Q(t):s=M({},t),r&&a===void 0&&l.length===1?delete s[i][l[0]]:s[i]=Ze(s[i],l,a,r),s}function qt(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&a===void 0&&!We(t,e.slice(0,-1))?t:Ze(t,e,a,r)}function we(t){return te(t)}function Ot(t,e){var a=We(t,e);return a}function St(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n=qt(t,e,a,r);return n}function At(t,e){return t&&t.some(function(a){return Et(a,e)})}function Ve(t){return Me(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function De(t,e){var a=Array.isArray(t)?Q(t):M({},t);return e&&Object.keys(e).forEach(function(r){var n=a[r],i=e[r],l=Ve(n)&&Ve(i);a[r]=l?De(n,i||{}):i}),a}function Mt(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),r=1;r<e;r++)a[r-1]=arguments[r];return a.reduce(function(n,i){return De(n,i)},t)}function $e(t,e){var a={};return e.forEach(function(r){var n=Ot(t,r);a=St(a,r,n)}),a}function Et(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(a,r){return e[r]===a})}var U="'${name}' is not a valid ${type}",de={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:U,method:U,array:U,object:U,number:U,date:U,boolean:U,integer:U,float:U,regexp:U,email:U,url:U,hex:U},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},pe=globalThis&&globalThis.__awaiter||function(t,e,a,r){function n(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function s(w){try{d(r.next(w))}catch(u){l(u)}}function b(w){try{d(r.throw(w))}catch(u){l(u)}}function d(w){w.done?i(w.value):n(w.value).then(s,b)}d((r=r.apply(t,e||[])).next())})},zt=Pt;function Rt(t,e){return t.replace(/\$\{\w+\}/g,function(a){var r=a.slice(2,-1);return e[r]})}function ye(t,e,a,r,n){return pe(this,void 0,void 0,ae.mark(function i(){var l,s,b,d,w,u,C,I;return ae.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return l=M({},a),delete l.ruleIndex,delete l.trigger,s=null,l&&l.type==="array"&&l.defaultField&&(s=l.defaultField,delete l.defaultField),b=new zt(H({},t,[l])),d=Mt({},de,r.validateMessages),b.messages(d),w=[],g.prev=9,g.next=12,Promise.resolve(b.validate(H({},t,e),M({},r)));case 12:g.next=17;break;case 14:g.prev=14,g.t0=g.catch(9),g.t0.errors?w=g.t0.errors.map(function(P,j){var V=P.message;return et(V)?tt(V,{key:"error_".concat(j)}):V}):(console.error(g.t0),w=[d.default()]);case 17:if(!(!w.length&&s)){g.next=22;break}return g.next=20,Promise.all(e.map(function(P,j){return ye("".concat(t,".").concat(j),P,s,r,n)}));case 20:return u=g.sent,g.abrupt("return",u.reduce(function(P,j){return[].concat(Q(P),Q(j))},[]));case 22:return C=M(M(M({},a),{name:t,enum:(a.enum||[]).join(", ")}),n),I=w.map(function(P){return typeof P=="string"?Rt(P,C):P}),g.abrupt("return",I);case 25:case"end":return g.stop()}},i,null,[[9,14]])}))}function He(t,e,a,r,n,i){var l=this,s=t.join("."),b=a.map(function(u,C){var I=u.validator,$=M(M({},u),{ruleIndex:C});return I&&($.validator=function(g,P,j){var V=!1,S=function(){for(var k=arguments.length,h=new Array(k),x=0;x<k;x++)h[x]=arguments[x];Promise.resolve().then(function(){V||j.apply(void 0,h)})},f=I(g,P,S);V=f&&typeof f.then=="function"&&typeof f.catch=="function",V&&f.then(function(){j()}).catch(function(p){j(p||" ")})}),$}).sort(function(u,C){var I=u.warningOnly,$=u.ruleIndex,g=C.warningOnly,P=C.ruleIndex;return!!I==!!g?$-P:I?1:-1}),d;if(n===!0)d=new Promise(function(u,C){return pe(l,void 0,void 0,ae.mark(function I(){var $,g,P;return ae.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:$=0;case 1:if(!($<b.length)){V.next=12;break}return g=b[$],V.next=5,ye(s,e,g,r,i);case 5:if(P=V.sent,!P.length){V.next=9;break}return C([{errors:P,rule:g}]),V.abrupt("return");case 9:$+=1,V.next=1;break;case 12:u([]);case 13:case"end":return V.stop()}},I)}))});else{var w=b.map(function(u){return ye(s,e,u,r,i).then(function(C){return{errors:C,rule:u}})});d=(n?Nt(w):Lt(w)).then(function(u){return Promise.reject(u)})}return d.catch(function(u){return u}),d}function Lt(t){return pe(this,void 0,void 0,ae.mark(function e(){return ae.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(n){var i,l=(i=[]).concat.apply(i,Q(n));return l}));case 1:case"end":return r.stop()}},e)}))}function Nt(t){return pe(this,void 0,void 0,ae.mark(function e(){var a;return ae.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=0,n.abrupt("return",new Promise(function(i){t.forEach(function(l){l.then(function(s){s.errors.length&&i([s]),a+=1,a===t.length&&i([])})})}));case 2:case"end":return n.stop()}},e)}))}function Tt(t){return function(e,a,r){var n=Object(e);if(!at(e)){var i=Be(a);e=rt(e),a=function(s){return i(n[s],s,n)}}var l=t(e,a,r);return l>-1?n[i?e[l]:l]:void 0}}var _t=Math.max;function Bt(t,e,a){var r=t==null?0:t.length;if(!r)return-1;var n=a==null?0:jt(a);return n<0&&(n=_t(r+n,0)),nt(t,Be(e),n)}var Wt=Tt(Bt),Zt=Wt,Ke=Symbol("formContextKey"),Ye=function(e){Ee(Ke,e)},Fe=function(){return ze(Ke,{name:F(function(){}),labelAlign:F(function(){return"right"}),vertical:F(function(){return!1}),addField:function(a,r){},removeField:function(a){},model:F(function(){}),rules:F(function(){}),colon:F(function(){}),labelWrap:F(function(){}),labelCol:F(function(){}),requiredMark:F(function(){return!1}),validateTrigger:F(function(){}),onValidate:function(){},validateMessages:F(function(){return de})})},Ue=Symbol("formItemPrefixContextKey"),Dt=function(e){Ee(Ue,e)},Ht=function(){return ze(Ue,{prefixCls:F(function(){return""})})},Ce=function(e,a){var r,n=a.slots,i=a.emit,l=a.attrs,s,b,d,w,u,C=M(M({},e),l),I=C.prefixCls,$=C.htmlFor,g=C.labelCol,P=C.labelAlign,j=C.colon,V=C.required,S=C.requiredMark,f=it("Form"),p=ot(f,1),k=p[0],h=(s=e.label)!==null&&s!==void 0?s:(b=n.label)===null||b===void 0?void 0:b.call(n);if(!h)return null;var x=Fe(),q=x.vertical,T=x.labelAlign,O=x.labelCol,z=x.labelWrap,Z=x.colon,B=g||O?.value||{},K=P||T?.value,R="".concat(I,"-item-label"),v=se(R,K==="left"&&"".concat(R,"-left"),B.class,H({},"".concat(R,"-wrap"),!!z.value)),c=h,o=j===!0||Z?.value!==!1&&j!==!1,m=o&&!q.value;m&&typeof h=="string"&&h.trim()!==""&&(c=h.replace(/[:|ï¼š]\s*$/,"")),c=_(me,null,[c,(d=n.tooltip)===null||d===void 0?void 0:d.call(n,{class:"".concat(I,"-item-tooltip")})]),S==="optional"&&!V&&(c=_(me,null,[c,_("span",{class:"".concat(I,"-item-optional")},[((w=k.value)===null||w===void 0?void 0:w.optional)||((u=lt.Form)===null||u===void 0?void 0:u.optional)])]));var y=se((r={},H(r,"".concat(I,"-item-required"),V),H(r,"".concat(I,"-item-required-mark-optional"),S==="optional"),H(r,"".concat(I,"-item-no-colon"),!o),r));return _(_e,Y(Y({},B),{},{class:v}),{default:function(){return[_("label",{for:$,class:y,title:typeof h=="string"?h:"",onClick:function(L){return i("click",L)}},[c])]}})};Ce.displayName="FormItemLabel";Ce.inheritAttrs=!1;var Kt=Ce,Yt=ce({name:"ErrorList",props:["errors","help","onDomErrorVisibleChange","helpStatus","warnings"],setup:function(e){var a=ke("",e),r=a.prefixCls,n=Ht(),i=n.prefixCls,l=n.status,s=F(function(){return"".concat(i.value,"-item-explain")}),b=F(function(){return!!(e.errors&&e.errors.length)}),d=J(l.value);return ie([b,l],function(){b.value&&(d.value=l.value)}),function(){var w,u,C=ft("".concat(r.value,"-show-help-item")),I=ut("".concat(r.value,"-show-help-item"),C);return I.class=s.value,!((w=e.errors)===null||w===void 0)&&w.length?_(st,Y(Y({},I),{},{tag:"div"}),{default:function(){return[(u=e.errors)===null||u===void 0?void 0:u.map(function(g,P){return _("div",{key:P,role:"alert",class:d.value?"".concat(s.value,"-").concat(d.value):""},[g])})]}}):null}}}),Ut={success:mt,warning:ct,error:dt,validating:pt},Xt=ce({slots:["help","extra","errors"],inheritAttrs:!1,props:["prefixCls","errors","hasFeedback","onDomErrorVisibleChange","wrapperCol","help","extra","status"],setup:function(e,a){var r=a.slots,n=Fe(),i=n.wrapperCol,l=M({},n);return delete l.labelCol,delete l.wrapperCol,Ye(l),Dt({prefixCls:F(function(){return e.prefixCls}),status:F(function(){return e.status})}),function(){var s,b,d,w=e.prefixCls,u=e.wrapperCol,C=e.help,I=C===void 0?(s=r.help)===null||s===void 0?void 0:s.call(r):C,$=e.errors,g=$===void 0?(b=r.errors)===null||b===void 0?void 0:b.call(r):$,P=e.hasFeedback,j=e.status,V=e.extra,S=V===void 0?(d=r.extra)===null||d===void 0?void 0:d.call(r):V,f="".concat(w,"-item"),p=u||i?.value||{},k=se("".concat(f,"-control"),p.class),h=j&&Ut[j];return _(_e,Y(Y({},p),{},{class:k}),{default:function(){var q;return _(me,null,[_("div",{class:"".concat(f,"-control-input")},[_("div",{class:"".concat(f,"-control-input-content")},[(q=r.default)===null||q===void 0?void 0:q.call(r)]),P&&h?_("span",{class:"".concat(f,"-children-icon")},[_(h,null,null)]):null]),_(Yt,{errors:g,help:I,class:"".concat(f,"-explain-connected")},null),S?_("div",{class:"".concat(f,"-extra")},[S]):null])}})}}}),Gt=Xt;function Qt(t){var e=Re(t.value.slice()),a=null;return Le(function(){clearTimeout(a),a=setTimeout(function(){e.value=t.value},t.value.length?0:10)}),e}oe("success","warning","error","validating","");function ve(t,e,a){var r=t,n=e,i=0;try{for(var l=n.length;i<l-1&&!(!r&&!a);++i){var s=n[i];if(s in r)r=r[s];else{if(a)throw Error("please transfer a valid name path to form item!");break}}if(a&&!r)throw Error("please transfer a valid name path to form item!")}catch{console.error("please transfer a valid name path to form item!")}return{o:r,k:n[i],v:r?r[n[i]]:void 0}}var Jt=function(){return{htmlFor:String,prefixCls:String,label:ee.any,help:ee.any,extra:ee.any,labelCol:{type:Object},wrapperCol:{type:Object},hasFeedback:{type:Boolean,default:!1},colon:{type:Boolean,default:void 0},labelAlign:ee.oneOf(oe("left","right")),prop:{type:[String,Number,Array]},name:{type:[String,Number,Array]},rules:[Array,Object],autoLink:{type:Boolean,default:!0},required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},validateStatus:ee.oneOf(oe("","success","warning","error","validating")),validateTrigger:{type:[String,Array]},messageVariables:{type:Object},hidden:Boolean,noStyle:Boolean}},ea=0,ta="form_item",aa=ce({name:"AFormItem",inheritAttrs:!1,__ANT_NEW_FORM_ITEM:!0,props:Jt(),slots:["help","label","extra"],setup:function(e,a){var r=a.slots,n=a.attrs,i=a.expose;ht(e.prop===void 0);var l="form-item-".concat(++ea),s=ke("form",e),b=s.prefixCls,d=Fe(),w=F(function(){return e.name||e.prop}),u=J([]),C=J(!1),I=J(),$=F(function(){var o=w.value;return we(o)}),g=F(function(){if($.value.length){var o=d.name.value,m=$.value.join("_");return o?"".concat(o,"_").concat(m):"".concat(ta,"_").concat(m)}else return}),P=function(){var m=d.model.value;if(!(!m||!w.value))return ve(m,$.value,!0).v},j=F(function(){return P()}),V=J(ue(j.value)),S=F(function(){var o=e.validateTrigger!==void 0?e.validateTrigger:d.validateTrigger.value;return o=o===void 0?"change":o,te(o)}),f=F(function(){var o=d.rules.value,m=e.rules,y=e.required!==void 0?{required:!!e.required,trigger:S.value}:[],A=ve(o,$.value);o=o?A.o[A.k]||A.v:[];var N=[].concat(m||o||[]);return Zt(N,function(L){return L.required})?N:N.concat(y)}),p=F(function(){var o=f.value,m=!1;return o&&o.length&&o.every(function(y){return y.required?(m=!0,!1):!0}),m||e.required}),k=J();Le(function(){k.value=e.validateStatus});var h=F(function(){var o={};return typeof e.label=="string"?o.label=e.label:e.name&&(o.label=String(name)),e.messageVariables&&(o=M(M({},o),e.messageVariables)),o}),x=function(m){if($.value.length!==0){var y=e.validateFirst,A=y===void 0?!1:y,N=m||{},L=N.triggerName,E=f.value;if(L&&(E=E.filter(function(W){var G=W.trigger;if(!G&&!S.value.length)return!0;var X=te(G||S.value);return X.includes(L)})),!E.length)return Promise.resolve();var D=He($.value,j.value,E,M({validateMessages:d.validateMessages.value},m),A,h.value);return k.value="validating",u.value=[],D.catch(function(W){return W}).then(function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(k.value==="validating"){var G=W.filter(function(X){return X&&X.errors.length});k.value=G.length?"error":"success",u.value=G.map(function(X){return X.errors}),d.onValidate(w.value,!u.value.length,u.value.length?xe(u.value[0]):null)}}),D}},q=function(){x({triggerName:"blur"})},T=function(){if(C.value){C.value=!1;return}x({triggerName:"change"})},O=function(){k.value=e.validateStatus,C.value=!1,u.value=[]},z=function(){k.value=e.validateStatus,C.value=!0,u.value=[];var m=d.model.value||{},y=j.value,A=ve(m,$.value,!0);Array.isArray(y)?A.o[A.k]=[].concat(V.value):A.o[A.k]=V.value,Ne(function(){C.value=!1})},Z=F(function(){return e.htmlFor===void 0?g.value:e.htmlFor}),B=function(){var m=Z.value;if(!(!m||!I.value)){var y=I.value.$el.querySelector('[id="'.concat(m,'"]'));y&&y.focus&&y.focus()}};i({onFieldBlur:q,onFieldChange:T,clearValidate:O,resetField:z}),vt({id:g,onFieldBlur:function(){e.autoLink&&q()},onFieldChange:function(){e.autoLink&&T()},clearValidate:O},F(function(){return!!(e.autoLink&&d.model.value&&w.value)}));var K=!1;ie(w,function(o){o?K||(K=!0,d.addField(l,{fieldValue:j,fieldId:g,fieldName:w,resetField:z,clearValidate:O,namePath:$,validateRules:x,rules:f})):(K=!1,d.removeField(l))},{immediate:!0}),bt(function(){d.removeField(l)});var R=Qt(u),v=F(function(){return e.validateStatus!==void 0?e.validateStatus:R.value.length?"error":k.value}),c=F(function(){var o;return o={},H(o,"".concat(b.value,"-item"),!0),H(o,"".concat(b.value,"-item-has-feedback"),v.value&&e.hasFeedback),H(o,"".concat(b.value,"-item-has-success"),v.value==="success"),H(o,"".concat(b.value,"-item-has-warning"),v.value==="warning"),H(o,"".concat(b.value,"-item-has-error"),v.value==="error"),H(o,"".concat(b.value,"-item-is-validating"),v.value==="validating"),H(o,"".concat(b.value,"-item-hidden"),e.hidden),o});return function(){var o,m;if(e.noStyle)return(o=r.default)===null||o===void 0?void 0:o.call(r);var y=(m=e.help)!==null&&m!==void 0?m:r.help?gt(r.help()):null;return _(It,Y(Y({},n),{},{class:[c.value,y!=null||R.value.length?"".concat(b.value,"-item-with-help"):"",n.class],key:"row"}),{default:function(){var N,L,E,D;return _(me,null,[_(Kt,Y(Y({},e),{},{htmlFor:Z.value,required:p.value,requiredMark:d.requiredMark.value,prefixCls:b.value,onClick:B,label:(N=e.label)!==null&&N!==void 0?N:(L=r.label)===null||L===void 0?void 0:L.call(r)}),null),_(Gt,Y(Y({},e),{},{errors:y!=null?te(y):R.value,prefixCls:b.value,status:v.value,ref:I,help:y,extra:(E=e.extra)!==null&&E!==void 0?E:(D=r.extra)===null||D===void 0?void 0:D.call(r)}),{default:r.default})])}})}}});function Xe(t){var e=!1,a=t.length,r=[];return t.length?new Promise(function(n,i){t.forEach(function(l,s){l.catch(function(b){return e=!0,b}).then(function(b){a-=1,r[s]=b,!(a>0)&&(e&&i(r),n(r))})})}):Promise.resolve([])}function je(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function qe(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function be(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var a=getComputedStyle(t,null);return qe(a.overflowY,e)||qe(a.overflowX,e)||function(r){var n=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!n&&(n.clientHeight<r.scrollHeight||n.clientWidth<r.scrollWidth)}(t)}return!1}function fe(t,e,a,r,n,i,l,s){return i<t&&l>e||i>t&&l<e?0:i<=t&&s<=a||l>=e&&s>=a?i-t-r:l>e&&s<a||i<t&&s>a?l-e+n:0}function Oe(t,e){var a=window,r=e.scrollMode,n=e.block,i=e.inline,l=e.boundary,s=e.skipOverflowHiddenElements,b=typeof l=="function"?l:function(re){return re!==l};if(!je(t))throw new TypeError("Invalid target");for(var d=document.scrollingElement||document.documentElement,w=[],u=t;je(u)&&b(u);){if((u=u.parentElement)===d){w.push(u);break}u!=null&&u===document.body&&be(u)&&!be(document.documentElement)||u!=null&&be(u,s)&&w.push(u)}for(var C=a.visualViewport?a.visualViewport.width:innerWidth,I=a.visualViewport?a.visualViewport.height:innerHeight,$=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,P=t.getBoundingClientRect(),j=P.height,V=P.width,S=P.top,f=P.right,p=P.bottom,k=P.left,h=n==="start"||n==="nearest"?S:n==="end"?p:S+j/2,x=i==="center"?k+V/2:i==="end"?f:k,q=[],T=0;T<w.length;T++){var O=w[T],z=O.getBoundingClientRect(),Z=z.height,B=z.width,K=z.top,R=z.right,v=z.bottom,c=z.left;if(r==="if-needed"&&S>=0&&k>=0&&p<=I&&f<=C&&S>=K&&p<=v&&k>=c&&f<=R)return q;var o=getComputedStyle(O),m=parseInt(o.borderLeftWidth,10),y=parseInt(o.borderTopWidth,10),A=parseInt(o.borderRightWidth,10),N=parseInt(o.borderBottomWidth,10),L=0,E=0,D="offsetWidth"in O?O.offsetWidth-O.clientWidth-m-A:0,W="offsetHeight"in O?O.offsetHeight-O.clientHeight-y-N:0;if(d===O)L=n==="start"?h:n==="end"?h-I:n==="nearest"?fe(g,g+I,I,y,N,g+h,g+h+j,j):h-I/2,E=i==="start"?x:i==="center"?x-C/2:i==="end"?x-C:fe($,$+C,C,m,A,$+x,$+x+V,V),L=Math.max(0,L+g),E=Math.max(0,E+$);else{L=n==="start"?h-K-y:n==="end"?h-v+N+W:n==="nearest"?fe(K,v,Z,y,N+W,h,h+j,j):h-(K+Z/2)+W/2,E=i==="start"?x-c-m:i==="center"?x-(c+B/2)+D/2:i==="end"?x-R+A+D:fe(c,R,B,m,A+D,x,x+V,V);var G=O.scrollLeft,X=O.scrollTop;h+=X-(L=Math.max(0,Math.min(X+L,O.scrollHeight-Z+W))),x+=G-(E=Math.max(0,Math.min(G+E,O.scrollWidth-B+D)))}q.push({el:O,top:L,left:E})}return q}function Ge(t){return t===Object(t)&&Object.keys(t).length!==0}function ra(t,e){e===void 0&&(e="auto");var a="scrollBehavior"in document.body.style;t.forEach(function(r){var n=r.el,i=r.top,l=r.left;n.scroll&&a?n.scroll({top:i,left:l,behavior:e}):(n.scrollTop=i,n.scrollLeft=l)})}function na(t){return t===!1?{block:"end",inline:"nearest"}:Ge(t)?t:{block:"start",inline:"nearest"}}function ia(t,e){var a=t.isConnected||t.ownerDocument.documentElement.contains(t);if(Ge(e)&&typeof e.behavior=="function")return e.behavior(a?Oe(t,e):[]);if(!!a){var r=na(e);return ra(Oe(t,r),r.behavior)}}function Se(t){var e=!1;return t&&t.length&&t.every(function(a){return a.required?(e=!0,!1):!0}),e}function Ae(t){return t==null?[]:Array.isArray(t)?t:[t]}function ge(t,e,a){var r=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split("."),i=0,l=n.length;i<l-1&&!(!r&&!a);++i){var s=n[i];if(s in r)r=r[s];else{if(a)throw new Error("please transfer a valid name path to validate!");break}}return{o:r,k:n[i],v:r?r[n[i]]:null,isValid:r&&n[i]in r}}function oa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J({}),a=arguments.length>2?arguments[2]:void 0,r=ue(ne(t)),n=xt({}),i=Re([]),l=function(f){M(ne(t),M(M({},ue(r)),f)),Ne(function(){Object.keys(n).forEach(function(p){n[p]={autoLink:!1,required:Se(ne(e)[p])}})})},s=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;return p.length?f.filter(function(k){var h=Ae(k.trigger||"change");return kt(h,p).length}):f},b=null,d=function(f){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=arguments.length>2?arguments[2]:void 0,h=[],x={},q=function(K){var R=f[K],v=ge(ne(t),R,k);if(!v.isValid)return"continue";x[R]=v.v;var c=s(ne(e)[R],Ae(p&&p.trigger));c.length&&h.push(w(R,v.v,c,p||{}).then(function(){return{name:R,errors:[],warnings:[]}}).catch(function(o){var m=[],y=[];return o.forEach(function(A){var N=A.rule.warningOnly,L=A.errors;N?y.push.apply(y,Q(L)):m.push.apply(m,Q(L))}),m.length?Promise.reject({name:R,errors:m,warnings:y}):{name:R,errors:m,warnings:y}}))},T=0;T<f.length;T++)var O=q(T);var z=Xe(h);b=z;var Z=z.then(function(){return b===z?Promise.resolve(x):Promise.reject([])}).catch(function(B){var K=B.filter(function(R){return R&&R.errors.length});return Promise.reject({values:x,errorFields:K,outOfDate:b!==z})});return Z.catch(function(B){return B}),Z},w=function(f,p,k){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=He([f],p,k,M({validateMessages:de},h),!!h.validateFirst);return n[f]?(n[f].validateStatus="validating",x.catch(function(q){return q}).then(function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T;if(n[f].validateStatus==="validating"){var O=q.filter(function(z){return z&&z.errors.length});n[f].validateStatus=O.length?"error":"success",n[f].help=O.length?O.map(function(z){return z.errors}):null,(T=a?.onValidate)===null||T===void 0||T.call(a,f,!O.length,O.length?xe(n[f].help[0]):null)}}),x):x.catch(function(q){return q})},u=function(f,p){var k=[],h=!0;f?Array.isArray(f)?k=f:k=[f]:(h=!1,k=i.value);var x=d(k,p||{},h);return x.catch(function(q){return q}),x},C=function(f){var p=[];f?Array.isArray(f)?p=f:p=[f]:p=i.value,p.forEach(function(k){n[k]&&M(n[k],{validateStatus:"",help:null})})},I=function(f){for(var p={autoLink:!1},k=[],h=Array.isArray(f)?f:[f],x=0;x<h.length;x++){var q=h[x];q?.validateStatus==="error"&&(p.validateStatus="error",q.help&&k.push(q.help)),p.required=p.required||q?.required}return p.help=k,p},$=r,g=!0,P=function(f){var p=[];i.value.forEach(function(k){var h=ge(f,k,!1),x=ge($,k,!1),q=g&&a?.immediate&&h.isValid;(q||!Te(h.v,x.v))&&p.push(k)}),u(p,{trigger:"change"}),g=!1,$=ue(xe(f))},j=a?.debounce,V=!0;return ie(e,function(){i.value=e?Object.keys(ne(e)):[],!V&&a&&a.validateOnRuleChange&&u(),V=!1},{deep:!0,immediate:!0}),ie(i,function(){var S={};i.value.forEach(function(p){S[p]=M({},n[p],{autoLink:!1,required:Se(ne(e)[p])}),delete n[p]});for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&delete n[f];M(n,S)},{immediate:!0}),ie(t,j&&j.wait?wt(P,j.wait,yt(j,["wait"])):P,{immediate:a&&!!a.immediate,deep:!0}),{modelRef:t,rulesRef:e,initialModel:r,validateInfos:n,resetFields:l,validate:u,validateField:w,mergeValidateInfo:I,clearValidate:C}}var la=function(){return{layout:ee.oneOf(oe("horizontal","inline","vertical")),labelCol:{type:Object},wrapperCol:{type:Object},colon:{type:Boolean,default:void 0},labelAlign:ee.oneOf(oe("left","right")),labelWrap:{type:Boolean,default:void 0},prefixCls:String,requiredMark:{type:[String,Boolean],default:void 0},hideRequiredMark:{type:Boolean,default:void 0},model:ee.object,rules:{type:Object},validateMessages:{type:Object,default:void 0},validateOnRuleChange:{type:Boolean,default:void 0},scrollToFirstError:{type:[Boolean,Object]},onSubmit:Function,name:String,validateTrigger:{type:[String,Array]},size:{type:String},onValuesChange:{type:Function},onFieldsChange:{type:Function},onFinish:{type:Function},onFinishFailed:{type:Function},onValidate:{type:Function}}};function fa(t,e){return Te(te(t),te(e))}var ua=ce({name:"AForm",inheritAttrs:!1,props:Ft(la(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:aa,useForm:oa,setup:function(e,a){var r=a.emit,n=a.slots,i=a.expose,l=a.attrs,s=$t(e),b=ke("form",e),d=b.prefixCls,w=b.direction,u=b.form,C=F(function(){return e.requiredMark===""||e.requiredMark}),I=F(function(){var v;return C.value!==void 0?C.value:u&&((v=u.value)===null||v===void 0?void 0:v.requiredMark)!==void 0?u.value.requiredMark:!e.hideRequiredMark}),$=F(function(){var v,c;return(v=e.colon)!==null&&v!==void 0?v:(c=u.value)===null||c===void 0?void 0:c.colon}),g=Ct(),P=g.validateMessages,j=F(function(){return M(M(M({},de),P.value),e.validateMessages)}),V=F(function(){var v;return se(d.value,(v={},H(v,"".concat(d.value,"-").concat(e.layout),!0),H(v,"".concat(d.value,"-hide-required-mark"),I.value===!1),H(v,"".concat(d.value,"-rtl"),w.value==="rtl"),H(v,"".concat(d.value,"-").concat(s.value),s.value),v))}),S=J(),f={},p=function(c,o){f[c]=o},k=function(c){delete f[c]},h=function(c){var o=!!c,m=o?te(c).map(we):[];return o?Object.values(f).filter(function(y){return m.findIndex(function(A){return fa(A,y.fieldName.value)})>-1}):Object.values(f)},x=function(c){if(!e.model){he(!1,"Form","model is required for resetFields to work.");return}h(c).forEach(function(o){o.resetField()})},q=function(c){h(c).forEach(function(o){o.clearValidate()})},T=function(c){var o=e.scrollToFirstError;if(r("finishFailed",c),o&&c.errorFields.length){var m={};Me(o)==="object"&&(m=o),z(c.errorFields[0].name,m)}},O=function(){return K.apply(void 0,arguments)},z=function(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=h(c?[c]:void 0);if(m.length){var y=m[0].fieldId.value,A=y?document.getElementById(y):null;A&&ia(A,M({scrollMode:"if-needed",block:"nearest"},o))}},Z=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(c===!0){var o=[];return Object.values(f).forEach(function(m){var y=m.namePath;o.push(y.value)}),$e(e.model,o)}else return $e(e.model,c)},B=function(c,o){if(he(!(c instanceof Function),"Form","validateFields/validateField/validate not support callback, please use promise instead"),!e.model)return he(!1,"Form","model is required for validateFields to work."),Promise.reject("Form `model` is required for validateFields to work.");var m=!!c,y=m?te(c).map(we):[],A=[];Object.values(f).forEach(function(E){var D;if(m||y.push(E.namePath.value),!!(!((D=E.rules)===null||D===void 0)&&D.value.length)){var W=E.namePath.value;if(!m||At(y,W)){var G=E.validateRules(M({validateMessages:j.value},o));A.push(G.then(function(){return{name:W,errors:[],warnings:[]}}).catch(function(X){var re=[],le=[];return X.forEach(function(Ie){var Qe=Ie.rule.warningOnly,Pe=Ie.errors;Qe?le.push.apply(le,Q(Pe)):re.push.apply(re,Q(Pe))}),re.length?Promise.reject({name:W,errors:re,warnings:le}):{name:W,errors:re,warnings:le}}))}}});var N=Xe(A);S.value=N;var L=N.then(function(){return S.value===N?Promise.resolve(Z(y)):Promise.reject([])}).catch(function(E){var D=E.filter(function(W){return W&&W.errors.length});return Promise.reject({values:Z(y),errorFields:D,outOfDate:S.value!==N})});return L.catch(function(E){return E}),L},K=function(){return B.apply(void 0,arguments)},R=function(c){if(c.preventDefault(),c.stopPropagation(),r("submit",c),e.model){var o=B();o.then(function(m){r("finish",m)}).catch(function(m){T(m)})}};return i({resetFields:x,clearValidate:q,validateFields:B,getFieldsValue:Z,validate:O,scrollToField:z}),Ye({model:F(function(){return e.model}),name:F(function(){return e.name}),labelAlign:F(function(){return e.labelAlign}),labelCol:F(function(){return e.labelCol}),labelWrap:F(function(){return e.labelWrap}),wrapperCol:F(function(){return e.wrapperCol}),vertical:F(function(){return e.layout==="vertical"}),colon:$,requiredMark:I,validateTrigger:F(function(){return e.validateTrigger}),rules:F(function(){return e.rules}),addField:p,removeField:k,onValidate:function(c,o,m){r("validate",c,o,m)},validateMessages:j}),ie(function(){return e.rules},function(){e.validateOnRuleChange&&B()}),function(){var v;return _("form",Y(Y({},l),{},{onSubmit:R,class:[V.value,l.class]}),[(v=n.default)===null||v===void 0?void 0:v.call(n)])}}}),va=ua;export{va as F};
