import{f7 as v,a as w,v as f,c as x,f8 as T,K as D,Q as A,G as B,aC as R,o as s,h as m,F as V,aF as I,x as S,y as j,n as t,k as r,z as e,B as p,t as l,j as F,l as M}from"./index.664a474d.js";import N from"./DetailModal.dfb6b009.js";import{u as $,B as z}from"./useTable.70b93a4d.js";import{n as G}from"./useForm.7fc630ea.js";import{u as H}from"./index.36e68cfb.js";import{getColumns as K}from"./data.9c3d98b1.js";import"./index.92abfcec.js";import"./index.657247e1.js";import"./get.967689fd.js";import"./useWindowSizeFn.bea509a5.js";import"./FullscreenOutlined.6c9757eb.js";import"./index.3d8a1ebe.js";import"./index.40536381.js";import"./eagerComputed.621973b2.js";import"./index.c1587db6.js";import"./index.0292cd41.js";import"./useFlexGapSupport.df27bd5a.js";import"./fromPairs.84aabb58.js";import"./CaretUpOutlined.1c0e3f9a.js";import"./scrollTo.7a7c91b6.js";import"./index.6937b675.js";import"./index.1c4a8ceb.js";import"./index.0436ce61.js";import"./useSize.1f5d6df9.js";import"./useContentViewHeight.1b426da7.js";import"./ArrowLeftOutlined.12cccf8f.js";import"./transButton.f70a9e9c.js";import"./index.9ee509e0.js";import"./index.ebefa23c.js";import"./index.cae2eb44.js";import"./_baseEach.64f46ed2.js";import"./_isIterateeCall.8bce29ba.js";import"./index.a5e5f89e.js";import"./sortable.esm.2632adaa.js";import"./uniqBy.9b39aa9f.js";import"./_baseIteratee.423afaf7.js";import"./index.da7bc1f8.js";import"./index.63ef064e.js";import"./index.803c90ab.js";import"./index.c92ded65.js";import"./toFinite.1248a2a6.js";import"./index.a86aefa2.js";import"./useRefs.412cac75.js";import"./download.0d7d171c.js";import"./index.a756d63b.js";import"./index.ef04c0fc.js";const Q=()=>v.get({url:"/error"}),q={class:"p-4"},J=["src"],Gr=w({__name:"index",setup(O){const c=f(),u=f([]),{t:o}=x(),d=T(),[g,{setTableData:_}]=$({title:o("sys.errorLog.tableTitle"),columns:K(),actionColumn:{width:80,title:"Action",dataIndex:"action"}}),[y,{openModal:b}]=H();D(()=>d.getErrorLogInfoList,i=>{A(()=>{_(B(i))})},{immediate:!0});function h(i){c.value=i,b(!0)}function k(){throw new Error("fire vue error!")}function C(){u.value.push(`${new Date().getTime()}.png`)}async function E(){await Q()}return(i,P)=>{const n=R("a-button");return s(),m("div",q,[(s(!0),m(V,null,I(u.value,a=>S((s(),m("img",{key:a,src:a,alt:""},null,8,J)),[[j,!1]])),128)),t(N,{info:c.value,onRegister:r(y)},null,8,["info","onRegister"]),t(r(z),{onRegister:r(g),class:"error-handle-table"},{toolbar:e(()=>[t(n,{onClick:k,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireVueError")),1)]),_:1}),t(n,{onClick:C,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireResourceError")),1)]),_:1}),t(n,{onClick:E,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireAjaxError")),1)]),_:1})]),bodyCell:e(({column:a,record:L})=>[a.key==="action"?(s(),F(r(G),{key:0,actions:[{label:r(o)("sys.errorLog.tableActionDesc"),onClick:h.bind(null,L)}]},null,8,["actions"])):M("",!0)]),_:1},8,["onRegister"])])}}});export{Gr as default};
