import{L as C,a as w,c as y,b as $,s as b,f as u,aC as l,o as L,j as x,z as _,i as o,q as a,t as f,n as g,B as F,aD as M}from"./index.664a474d.js";import{B as S,b as I}from"./index.36e68cfb.js";import{B as N,k as R}from"./useForm.7fc630ea.js";import{u as P}from"./lock.97d7ddd1.js";import{h as D}from"./header.d801b988.js";import"./useWindowSizeFn.bea509a5.js";import"./FullscreenOutlined.6c9757eb.js";import"./index.63ef064e.js";import"./index.803c90ab.js";import"./useFlexGapSupport.df27bd5a.js";import"./index.c92ded65.js";import"./_baseIteratee.423afaf7.js";import"./get.967689fd.js";import"./toFinite.1248a2a6.js";import"./useSize.1f5d6df9.js";import"./index.a5e5f89e.js";import"./index.c1587db6.js";import"./index.0292cd41.js";import"./eagerComputed.621973b2.js";import"./index.cae2eb44.js";import"./index.3d8a1ebe.js";import"./index.9ee509e0.js";import"./index.ebefa23c.js";import"./index.a86aefa2.js";import"./transButton.f70a9e9c.js";import"./useRefs.412cac75.js";import"./_baseEach.64f46ed2.js";import"./download.0d7d171c.js";import"./index.a756d63b.js";import"./index.ef04c0fc.js";import"./uniqBy.9b39aa9f.js";const U=w({name:"LockModal",components:{BasicModal:S,BasicForm:N},setup(){const{t:e}=y(),{prefixCls:n}=$("header-lock-modal"),r=b(),p=P(),m=u(()=>r.getUserInfo?.realName),[c,{closeModal:t}]=I(),[s,{validateFields:i,resetFields:h}]=R({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});async function k(){const B=(await i()).password;t(),p.setLockInfo({isLock:!0,pwd:B}),await h()}const v=u(()=>{const{avatar:d}=r.getUserInfo;return d||D});return{t:e,prefixCls:n,getRealName:m,register:c,registerForm:s,handleLock:k,avatar:v}}}),V=["src"];function q(e,n,r,p,m,c){const t=l("BasicForm"),s=l("a-button"),i=l("BasicModal");return L(),x(i,M({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:_(()=>[o("div",{class:a(`${e.prefixCls}__entry`)},[o("div",{class:a(`${e.prefixCls}__header`)},[o("img",{src:e.avatar,class:a(`${e.prefixCls}__header-img`)},null,10,V),o("p",{class:a(`${e.prefixCls}__header-name`)},f(e.getRealName),3)],2),g(t,{onRegister:e.registerForm},null,8,["onRegister"]),o("div",{class:a(`${e.prefixCls}__footer`)},[g(s,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:_(()=>[F(f(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}var ge=C(U,[["render",q]]);export{ge as default};
