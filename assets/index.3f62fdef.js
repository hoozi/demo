import{bY as D,L as C,a as w,c6 as S,C as M,v as s,eu as R,aC as r,o as p,h as B,i as t,j as v,z as o,t as T,n as l,l as E,F as N,B as u}from"./index.664a474d.js";import{S as z}from"./index.c1587db6.js";import{R as I}from"./index.a69828d8.js";import{u as q}from"./index.209da8c9.js";import{B as P,u as V}from"./useTable.70b93a4d.js";import"./useForm.7fc630ea.js";import{B as $,u as k}from"./index.36e68cfb.js";import{B as Y}from"./index.da7bc1f8.js";import j from"./index.898f3753.js";import{h as L}from"./moment.9709ab41.js";import{_ as H,a as J}from"./qrcode.3e94a9e6.js";import"./index.0292cd41.js";import"./useFlexGapSupport.df27bd5a.js";import"./eagerComputed.621973b2.js";import"./createMock.0103715c.js";import"./random.0da295ae.js";import"./_isIterateeCall.8bce29ba.js";import"./toFinite.1248a2a6.js";import"./index.40536381.js";import"./fromPairs.84aabb58.js";import"./CaretUpOutlined.1c0e3f9a.js";import"./scrollTo.7a7c91b6.js";import"./index.6937b675.js";import"./index.1c4a8ceb.js";import"./index.0436ce61.js";import"./useSize.1f5d6df9.js";import"./useWindowSizeFn.bea509a5.js";import"./useContentViewHeight.1b426da7.js";import"./ArrowLeftOutlined.12cccf8f.js";import"./transButton.f70a9e9c.js";import"./index.9ee509e0.js";import"./index.ebefa23c.js";import"./index.cae2eb44.js";import"./index.3d8a1ebe.js";import"./_baseEach.64f46ed2.js";import"./get.967689fd.js";import"./index.a5e5f89e.js";import"./sortable.esm.2632adaa.js";import"./uniqBy.9b39aa9f.js";import"./_baseIteratee.423afaf7.js";import"./FullscreenOutlined.6c9757eb.js";import"./index.63ef064e.js";import"./index.803c90ab.js";import"./index.c92ded65.js";import"./index.a86aefa2.js";import"./useRefs.412cac75.js";import"./download.0d7d171c.js";import"./index.a756d63b.js";import"./index.ef04c0fc.js";const O=()=>[{title:"\u63D0\u5355\u53F7",dataIndex:"billNo"},{title:"\u7BB1\u53F7",dataIndex:"ctnNo"},{title:"\u8239\u540D/\u822A\u6B21",dataIndex:"vessel",width:230},{title:"\u4E2D\u8F6C\u6E2F",dataIndex:"transitPortName"},{title:"\u76EE\u7684\u6E2F",dataIndex:"destinationPortName"},{title:"\u653E\u7BB1\u72B6\u6001",dataIndex:"putStatus",customRender:()=>"Y"},{title:"\u63D0\u7BB1\u5806\u573A",dataIndex:"yardName"},{title:"\u7BB1\u4E3B",dataIndex:"ctnOwner"},{title:"\u8F66\u961F",dataIndex:"truckName",width:90},{title:"\u53F8\u673A",dataIndex:"driver",width:70},{title:"\u72B6\u6001",dataIndex:"statusText",customRender:({text:e})=>D(Y,{status:"warning",text:e})}];const K=w({name:"Link",components:{Map:j,Spin:S,Result:I,BasicModal:$,Button:M,Space:z,BasicTable:P},setup(){const e=s(!1),n=q(),{detail:f}=R(n),h=s(1),x=s(!1),A=s(!1),a=s(null),c=s(null),m=s(!1),[F,{openModal:_}]=k(),[g,{openModal:b}]=k(),[d]=V({dataSource:f.value.ctnApp,title:"\u63D0\u7BB1\u7533\u8BF7",columns:O(),showIndexColumn:!1,canResize:!0,useSearchForm:!1,showTableSetting:!1,bordered:!0,size:"small",rowKey:"id",clickToRowSelect:!0,pagination:!1,actionColumn:{title:"\u64CD\u4F5C",dataIndex:"action",width:300,slots:{customRender:"action"}}});return{handleShowAppModal:()=>{e.value=!0,setTimeout(()=>{e.value=!1,c.value.openStaticModal()},2e3),setTimeout(()=>{c.value.closeStaticModal(),m.value=!0},4e3)},mapRef:c,showList:m,apping:e,detail:f,currentData:a,posted:A,posting:x,currentStep:h,handleJumpCtn:()=>{m.value=!1},handleStepModalVisibleChange:i=>{i||setTimeout(()=>{h.value=1,A.value=!1},500)},registerMobileModal:g,handleStep:i=>{i?h.value=i:(x.value=!0,setTimeout(()=>{x.value=!1,A.value=!0},800),setTimeout(()=>{b(!1),_(!1)},1500)),i===1&&b(!0)},handleApp:i=>{a.value=i,_(!0)},registerTable:d,registerModal:F,moment:L}}}),G=t("span",{class:"fs16 font-bold"},"\u63D0\u7BB1\u7533\u8BF7",-1),Q={class:"ml12 fs12 font-normal text-gray"},U=u("\u7A7A\u7BB1\u7BB1\u6E90\u5206\u5E03"),W=u("\u4F5C\u4E1A\u8C03\u5EA6"),X=u("\u4EFB\u52A1\u4E0B\u53D1"),Z=u("\u9884\u5F55\u5165"),tt=u("\u9884\u7EA6"),et={key:1,style:{height:"600px"}},ut={class:"tkgck_serial_number js-comp eve-component"},ot={class:"backstage_structure"},lt={class:"serial_seq_code",id:"thisPrint"},nt={id:"number_code"},at=t("tr",null,[t("td",null,[t("img",{src:H,style:{width:"200px","max-width":"unset"}})]),t("td",{colspan:"2",style:{width:"80%"}},[t("h1",{style:{"text-align":"center","font-size":"28px"}},"\u63D0\u7A7A\u53F8\u673A\u4E13\u7528")]),t("td",{style:{width:"20%"}},"\u7F16\u53F7:5")],-1),it={rowspan:"7",id:"imgview0",style:{"text-align":"center"}},st=t("img",{src:J,style:{width:"120px",height:"120px",margin:"0 auto",display:"block"}},null,-1),rt=t("br",null,null,-1),pt=u("\u5E8F\u5217\u53F7 : \xA0932346253649"),dt=u("\u63D0\xA0\xA0\u5355\xA0\xA0\u53F7: \xA0\xA0 "),ct=["value"],mt=t("td",null,[u("EIR\xA0\xA0\xA0\xA0\xA0\u53F7: \xA0\xA0 "),t("input",{class:"input",value:"00713817003758"})],-1),_t=t("td",{rowspan:"7"},[u("\u6E29\u99A8\u63D0\u793A\uFF1A "),t("br"),t("span",null,[t("b",null,"\u53EF\u8FDB\u884CAPP\u65E0\u7EB8\u5316\u9884\u5F55\u5165")]),t("br"),t("b",null,[u("\u2460\u6B64\u5E8F\u5217\u53F7\u53EF\u5728\u624B\u673AAPP\u7AEF\u9884\u7EA6\u6210\u529F\u540E\u8FDB\u884C\u63D0\u7BB1\uFF0C\u8BF7\u59A5\u5584\u4FDD\u7BA1\uFF0C\u907F\u514D\u9057\u5931\u6216\u88AB\u4ED6\u4EBA\u76D7\u7528; "),t("br"),u(" \u2461\u8BF7\u5728\u63D0\u7BB1\u51FA\u95E8\u524D\u786E\u8BA4\u7BB1\u51B5\uFF0C\u5982\u65E0\u5F02\u8BAE\u89C6\u540C\u7BB1\u51B5\u826F\u597D\u3002 "),t("br"),t("span",null,"\u2462\u8BF7\u5728\u63D0\u7BB1\u9884\u7EA6\u524D\u786E\u8BA4\u8BE5\u5E8F\u5217\u53F7\u662F\u5426\u5B8C\u6210\u652F\u4ED8")])],-1),ht={colspan:"2"},xt=u("\u8239\u540D\u822A\u6B21: \xA0\xA0 "),At=["value"],gt=u("\u7BB1\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u578B: \xA0\xA0 "),bt=["value"],Bt=u("\u7BB1\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u4E3B: \xA0\xA0 "),ft=["value"],Ft=u("\u4E2D\xA0\xA0\u8F6C\xA0\xA0\u6E2F: \xA0\xA0 "),vt=["value"],Et=u("\u76EE\xA0\xA0\u7684\xA0\xA0\u6E2F: \xA0\xA0 "),kt=["value"],yt=u("\u51FA\u8FD0\u7801\u5934: \xA0\xA0 "),Dt=["value"],Ct=u("\u63D0\u7BB1\u5806\u573A: \xA0\xA0 "),wt=["value"],St=u("\u6709\xA0\xA0\u6548\xA0\u671F: \xA0\xA0 "),Mt=["value"],Rt=u("\u7ED3\u7B97\u4EE3\u7801: \xA0\xA0 "),Tt=["value"],Nt=t("tr",null,[t("td",{colspan:"2"},[u("\u5185\xA0\xA0\u652F\xA0\u7EBF: \xA0\xA0 "),t("input",{style:{width:"80%"},class:"input",value:""})])],-1),zt=t("tr",null,[t("td",{colspan:"3"},[t("div",{style:{"text-align":"left","margin-top":"10px"}},"\xA0\xA0\u8981\u67E5\u8BE2\u51C6\u786E\u7684\u8FDB\u7BB1\u65F6\u95F4\uFF0C\u8BF7\u767B\u5F55\u6613\u6E2F\u901A\u4E3B\u9875(www.eporthub.com)-\u516C\u5171\u4FE1\u606F\u670D\u52A1-\u8FDB\u7BB1\u516C\u544A\u6216\u6613\u6E2F\u901A\u8FDB\u7BB1\u516C\u544A\u5C0F\u7A0B\u5E8F\u4E2D\u8FDB\u884C\u8BA2\u9605\u67E5\u8BE2")])],-1),It=t("tr",null,[t("td",{colspan:"3"},[t("div",{style:{"text-align":"left","margin-top":"10px"}},"\xA0\xA0\u5907\u6CE8:\xA0\xA0")])],-1),qt=["src"];function Pt(e,n,f,h,x,A){const a=r("Button"),c=r("Space"),m=r("BasicTable"),F=r("Map"),_=r("Spin"),g=r("BasicModal"),b=r("Result");return p(),B(N,null,[t("div",null,[e.showList?(p(),v(m,{key:0,onRegister:e.registerTable,class:"link-table"},{tableTitle:o(()=>[t("span",null,[G,t("span",Q,"\u5237\u65B0\u65F6\u95F4\uFF1A"+T(e.moment().format("YYYY-MM-DD HH:mm:ss")),1)])]),toolbar:o(()=>[l(a,{type:"primary",onClick:e.handleJumpCtn},{default:o(()=>[U]),_:1},8,["onClick"])]),action:o(({record:d})=>[l(c,{size:8},{default:o(()=>[l(a,{size:"small"},{default:o(()=>[W]),_:1}),l(a,{type:"primary",size:"small"},{default:o(()=>[X]),_:1}),l(a,{type:"primary",size:"small"},{default:o(()=>[Z]),_:1}),l(a,{type:"primary",size:"small",onClick:y=>e.handleApp(d)},{default:o(()=>[tt]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["onRegister"])):(p(),B("div",et,[l(_,{spinning:e.apping,tip:"\u6B63\u5728\u81EA\u52A8\u5339\u914D\u5806\u573A...",size:"large",wrapperClassName:"map-loading"},{default:o(()=>[l(F,{ref:"mapRef",onApp:e.handleShowAppModal},null,8,["onApp"])]),_:1},8,["spinning"])]))]),l(g,{onRegister:e.registerModal,title:"\u9884\u7EA6",width:"800px","body-style":{position:"relative"},footer:null,canFullscreen:!1,scrollable:!1},{default:o(()=>[t("div",ut,[t("div",ot,[t("div",lt,[t("table",nt,[t("tbody",null,[t("tr",null,[t("td",null,[t("table",null,[t("tbody",null,[at,t("tr",null,[t("td",it,[st,rt,pt,t("button",{id:"sjyy",onClick:n[0]||(n[0]=d=>e.handleStep(1))},"\u53F8\u673A\u9884\u7EA6")]),t("td",null,[dt,t("input",{class:"input",readonly:"readonly",value:e.currentData.billNo},null,8,ct)]),mt,_t]),t("tr",null,[t("td",ht,[xt,t("input",{style:{width:"80%"},class:"input",value:e.currentData.vessel},null,8,At)])]),t("tr",null,[t("td",null,[gt,t("input",{class:"input",value:e.currentData.ctnSizeType},null,8,bt)]),t("td",null,[Bt,t("input",{class:"input",value:e.currentData.ctnOwner},null,8,ft)])]),t("tr",null,[t("td",null,[Ft,t("input",{class:"input",value:e.currentData.transitPortName},null,8,vt)]),t("td",null,[Et,t("input",{class:"input",value:e.currentData.destinationPortName},null,8,kt)])]),t("tr",null,[t("td",null,[yt,t("input",{class:"input",value:e.detail.wharfName},null,8,Dt)]),t("td",null,[Ct,t("input",{class:"input",value:e.currentData.yardName},null,8,wt)])]),t("tr",null,[t("td",null,[St,t("input",{class:"input",value:e.currentData.time},null,8,Mt)]),t("td",null,[Rt,t("input",{class:"input",value:e.currentData.code},null,8,Tt)])]),Nt,zt,It])])])])])])])])])]),_:1},8,["onRegister"]),l(g,{onRegister:e.registerMobileModal,title:null,width:"390px",style:{top:"20px"},wrapClassName:"simple-modal","body-style":{position:"relative",overflow:"hidden auto",maxHeight:"680px"},footer:null,canFullscreen:!1,scrollable:!1,onVisibleChange:e.handleStepModalVisibleChange},{default:o(()=>[e.posted?(p(),v(b,{key:1,status:"success",title:"\u9884\u7EA6\u6210\u529F"})):(p(),v(_,{key:0,spinning:e.posting,tip:"\u63D0\u4EA4\u4E2D..."},{default:o(()=>[t("img",{src:`/resource/img/s${e.currentStep+1}.png`,style:{width:"390px",height:"auto",display:"block"}},null,8,qt),e.currentStep===1?(p(),B("a",{key:0,style:{display:"block",position:"absolute",top:"419px",left:"195px",width:"180px",height:"44px"},onClick:n[1]||(n[1]=d=>e.handleStep())})):E("",!0),e.currentStep===2?(p(),B("a",{key:1,style:{display:"block",position:"absolute",top:"606px",left:"23px",width:"333px",height:"44px"},onClick:n[2]||(n[2]=d=>e.handleStep())})):E("",!0)]),_:1},8,["spinning"]))]),_:1},8,["onRegister","onVisibleChange"])],64)}var Pe=C(K,[["render",Pt]]);export{Pe as default};
